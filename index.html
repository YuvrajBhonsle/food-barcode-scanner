To format the output as provided by the API endpoint response, you can modify the `displayResults()` function as follows:

```javascript
function displayResults(response) {
  var resultContainer = document.getElementById("result");
  resultContainer.innerHTML = ""; // Clear previous results

  if (response.status === 1) {
    var products = response.products;
    var resultHTML = "";

    for (var i = 0; i < products.length; i++) {
      var product = products[i];
      var productName = product.product_name;
      var ingredients = product.ingredients_text;
      var nutritionFacts = product.nutrition_facts;

      resultHTML += "<h2 class='product-name'>Product: " + productName + "</h2>";
      resultHTML += "<h3>Ingredients:</h3>";
      resultHTML += "<p>" + ingredients + "</p>";
      resultHTML += "<h3>Nutrition Facts:</h3>";
      resultHTML += "<ul>";

      for (var j = 0; j < nutritionFacts.length; j++) {
        var fact = nutritionFacts[j];
        resultHTML += "<li><strong>" + fact.name + ":</strong> " + fact.value + "</li>";
      }

      resultHTML += "</ul>";
    }

    resultContainer.innerHTML = resultHTML;
  } else {
    displayError("Error: Unable to retrieve barcode information.");
  }
}
```

This updated function iterates over the `products` array in the response and formats the product details, including the product name, ingredients, and nutrition facts, using the provided structure. Each product is appended to the `resultHTML` string, which is then assigned to the `resultContainer.innerHTML` to display the formatted results on the page.

Make sure to replace the existing `displayResults()` function with this updated version in your code.
